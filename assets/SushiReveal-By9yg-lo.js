import{r as t,u as P,j as e,m as b,c as B}from"./index-DBRUURvj.js";import{B as V,V as z,S as U,_,C as W,a as H,E as O,u as M,b as G,F as J}from"./ContactShadows-f0oHJ5I0.js";const T=t.forwardRef(function({children:n,disable:a,disableX:c,disableY:o,disableZ:r,left:l,right:x,top:d,bottom:h,front:u,back:p,onCentered:g,precise:N=!0,cacheKey:k=0,...F},L){const f=t.useRef(null),j=t.useRef(null),E=t.useRef(null);return t.useLayoutEffect(()=>{j.current.matrixWorld.identity();const i=new V().setFromObject(E.current,N),m=new z,A=new U,w=i.max.x-i.min.x,y=i.max.y-i.min.y,v=i.max.z-i.min.z;i.getCenter(m),i.getBoundingSphere(A);const S=d?y/2:h?-y/2:0,C=l?-w/2:x?w/2:0,I=u?v/2:p?-v/2:0;j.current.position.set(a||c?0:-m.x+C,a||o?0:-m.y+S,a||r?0:-m.z+I),typeof g<"u"&&g({parent:f.current.parent,container:f.current,width:w,height:y,depth:v,boundingBox:i,boundingSphere:A,center:m,verticalAlignment:S,horizontalAlignment:C,depthAlignment:I})},[k,g,d,l,u,a,c,o,r,N,x,h,p]),t.useImperativeHandle(L,()=>f.current,[]),t.createElement("group",_({ref:f},F),t.createElement("group",{ref:j},t.createElement("group",{ref:E},n)))}),R=new URL("/mama-60/assets/Meshy_AI_Salmon_Nigiri-BVtUJ4JO.glb",import.meta.url).href;function D({scrollProgress:s}){const n=t.useRef(),{scene:a}=M(R);return G(()=>{if(!n.current)return;const o=2.2-Math.PI/4-Math.PI/12-Math.PI/12-Math.PI/18-Math.PI,r=Math.PI*2;n.current.rotation.y=o+s*r,n.current.rotation.x=Math.sin(s*Math.PI)*.12-Math.PI/36}),e.jsx(J,{speed:1,rotationIntensity:.05,floatIntensity:.15,children:e.jsx("group",{ref:n,children:e.jsx(T,{children:e.jsx("primitive",{object:a,scale:1.8})})})})}M.preload(R);function q({scrollProgress:s}){return e.jsxs(e.Fragment,{children:[e.jsx("ambientLight",{intensity:.4}),e.jsx("directionalLight",{position:[3,8,5],intensity:1.5,castShadow:!0,"shadow-mapSize":[2048,2048],"shadow-bias":-1e-4}),e.jsx("pointLight",{position:[-4,3,-2],intensity:.3,color:"#FFF5EE"}),e.jsx("spotLight",{position:[0,6,0],angle:.4,penumbra:.8,intensity:.5,castShadow:!0}),e.jsx(t.Suspense,{fallback:e.jsxs("mesh",{children:[e.jsx("boxGeometry",{args:[2,.5,1]}),e.jsx("meshStandardMaterial",{color:"#FFB7C5",opacity:.3,transparent:!0})]}),children:e.jsx(D,{scrollProgress:s})}),e.jsx(H,{position:[0,-.8,0],opacity:.15,scale:5,blur:3,far:6}),e.jsx(O,{preset:"studio"})]})}function $(){const{sushiReveal:s}=B,n=t.useRef(null),a=P(n,{once:!1,margin:"-10%"}),[c,o]=t.useState(0),r=t.useCallback(()=>{const l=n.current;if(!l)return;const x=l.getBoundingClientRect(),d=window.innerHeight,h=x.height+d,u=d-x.top,p=Math.max(0,Math.min(1,u/h));o(p)},[]);return t.useEffect(()=>(window.addEventListener("scroll",r,{passive:!0}),r(),()=>window.removeEventListener("scroll",r)),[r]),e.jsxs("section",{ref:n,className:"min-h-screen flex flex-col items-center justify-center py-24 px-4 relative",children:[e.jsx(b.p,{initial:{opacity:0,y:15},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-xs uppercase tracking-[0.3em] text-charcoal/35 font-sans mb-6",children:s.label}),e.jsx("div",{className:"w-full max-w-2xl h-[400px] md:h-[500px] mx-auto relative",children:a?e.jsx(W,{camera:{position:[0,3.5,7.5],fov:32},style:{background:"transparent"},shadows:!0,dpr:[1,2],children:e.jsx(q,{scrollProgress:c})}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("div",{className:"w-16 h-16 border-4 border-charcoal/10 border-t-charcoal/30 rounded-full animate-spin"})})}),e.jsxs(b.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:.2},className:"text-center max-w-md mx-auto mt-4",children:[e.jsx("h3",{className:"font-serif text-3xl md:text-4xl text-charcoal mb-3 tracking-tight",children:s.title}),e.jsx("p",{className:"font-sans text-sm md:text-base text-charcoal/50 leading-relaxed",children:s.description})]}),e.jsxs(b.div,{initial:{opacity:0,y:15},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:.4},className:"relative max-w-md mx-auto mt-14",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[e.jsx("div",{className:"h-px w-12 bg-gradient-to-r from-transparent to-[#C73E3A]/20"}),e.jsx("span",{className:"text-sm text-[#C73E3A]/25 select-none",children:"予約"}),e.jsx("div",{className:"h-px w-12 bg-gradient-to-l from-transparent to-[#C73E3A]/20"})]}),e.jsxs("div",{className:"text-center px-6 py-5 relative overflow-hidden rounded-sm border border-[#C73E3A]/8 bg-gradient-to-b from-white/40 to-cream/60",children:[e.jsxs("svg",{className:"absolute -top-2 -right-2 w-20 h-20 opacity-[0.04] pointer-events-none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("defs",{children:e.jsxs("pattern",{id:"seigaiha-hint",x:"0",y:"0",width:"20",height:"10",patternUnits:"userSpaceOnUse",children:[e.jsx("circle",{cx:"10",cy:"10",r:"9",fill:"none",stroke:"#C73E3A",strokeWidth:"0.5"}),e.jsx("circle",{cx:"10",cy:"10",r:"6",fill:"none",stroke:"#C73E3A",strokeWidth:"0.5"}),e.jsx("circle",{cx:"10",cy:"10",r:"3",fill:"none",stroke:"#C73E3A",strokeWidth:"0.5"})]})}),e.jsx("rect",{width:"100%",height:"100%",fill:"url(#seigaiha-hint)"})]}),e.jsx("p",{className:"font-serif text-base md:text-lg text-charcoal/70 leading-relaxed mb-2",children:s.guideTitle}),e.jsx("p",{className:"font-serif text-xl md:text-2xl text-charcoal tracking-tight mb-3",children:s.guideName}),e.jsx("div",{className:"h-px w-16 mx-auto bg-[#C73E3A]/15 mb-3"}),e.jsx("p",{className:"font-sans text-xs md:text-sm text-charcoal/40 leading-relaxed whitespace-pre-line",children:s.guideDetails})]}),e.jsxs("div",{className:"flex items-center justify-center mt-4",children:[e.jsx("div",{className:"h-px w-20 bg-gradient-to-r from-transparent to-[#C73E3A]/15"}),e.jsxs("svg",{className:"w-4 h-4 mx-2 text-[#C73E3A]/15",viewBox:"0 0 48 48",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("ellipse",{cx:"24",cy:"14",rx:"4",ry:"8",transform:"rotate(0 24 24)"}),e.jsx("ellipse",{cx:"24",cy:"14",rx:"4",ry:"8",transform:"rotate(72 24 24)"}),e.jsx("ellipse",{cx:"24",cy:"14",rx:"4",ry:"8",transform:"rotate(144 24 24)"}),e.jsx("ellipse",{cx:"24",cy:"14",rx:"4",ry:"8",transform:"rotate(216 24 24)"}),e.jsx("ellipse",{cx:"24",cy:"14",rx:"4",ry:"8",transform:"rotate(288 24 24)"}),e.jsx("circle",{cx:"24",cy:"24",r:"2.5"})]}),e.jsx("div",{className:"h-px w-20 bg-gradient-to-l from-transparent to-[#C73E3A]/15"})]})]})]})}export{$ as default};
